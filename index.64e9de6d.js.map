{"mappings":"A,S,E,C,E,O,G,E,U,C,E,O,C,C,C,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,A,C,E,E,Q,A,E,Q,S,C,C,C,E,O,c,C,E,O,C,W,C,I,W,O,C,E,I,S,C,E,O,E,C,E,W,C,E,a,C,C,GCEA,IAgBA,EAhBI,EAAU,IAAI,IAgBlB,EAfA,SAAkB,CAAO,CAAE,CAAQ,EACjC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,CAAG,EAAG,GAAK,EAC5C,EAAQ,GAAG,CAAC,CAAQ,CAAC,EAAE,CAAE,CACvB,QAAS,EACT,KAAM,CAAQ,CAAC,EAAI,EAAE,AACvB,EAEJ,C,GCVA,AAAA,EAAA,SAAA,QAAA,CAA8C,IAAA,IAAoB,GAAA,YAAA,GAAA,EAAI,QAAQ,GAAG,KAAK,KAAK,CAAC,mPGA5F,MAAM,EAAoB,SAAS,cAAc,CAAC,oBAC5C,EAAU,SAAS,cAAc,CAAC,UAExC,IAAI,EAAa,GACb,EAAW,CAAA,EACX,EAAc,CAAA,EACd,EAAa,CAAA,EACb,EAAU,CAAA,EAEd,SAAS,IACP,IAAI,EAAY,GAIhB,GAHa,CAAA,EAAW,aAAe,EAAvC,EACa,CAAA,EAAc,gBAAkB,EAA7C,EACa,CAAA,EAAa,eAAiB,EAA3C,EACa,CAAA,EAAU,WAAa,EAApC,EACA,EAAQ,SAAS,CAAG,CACtB,CAEA,SAAS,IACP,cAAc,GACd,EAAa,YAAY,KACnB,GACF,EAAW,CAAA,EACX,EAAc,CAAA,GACL,GACT,EAAc,CAAA,EACd,EAAa,CAAA,GACJ,GACT,EAAa,CAAA,EACb,EAAU,CAAA,IAGV,EAAU,CAAA,EACV,EAAW,CAAA,GAEb,GACF,EAAG,KACL,CAEO,eAAe,IACpB,EAAkB,gBAAgB,CAAC,WAAY,IA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","sources":["<anon>",".yarn/cache/@parcel-runtime-js-npm-2.11.0-d9caebabcf-da0a4ba813.zip/node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js",".yarn/cache/@parcel-runtime-js-npm-2.11.0-d9caebabcf-da0a4ba813.zip/node_modules/@parcel/runtime-js/lib/runtime-23feac8785be549a.js","src/index.ts","src/features/index.ts","src/features/animate-border.ts","src/features/slideshow-background.ts",".yarn/cache/@parcel-runtime-js-npm-2.11.0-d9caebabcf-da0a4ba813.zip/node_modules/@parcel/runtime-js/lib/runtime-e3512f24c468bfcb.js",".yarn/cache/@parcel-runtime-js-npm-2.11.0-d9caebabcf-da0a4ba813.zip/node_modules/@parcel/runtime-js/lib/runtime-139a8c2a9ef309a2.js",".yarn/cache/@parcel-runtime-js-npm-2.11.0-d9caebabcf-da0a4ba813.zip/node_modules/@parcel/runtime-js/lib/runtime-91460066f99a9d9f.js","src/features/likes-counter.ts"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequireefef\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequireefef\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"gKHNl\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", function () { return $c322e9f2577a7e3b$export$6503ec6e8aabbaf; }, function (v) { return $c322e9f2577a7e3b$export$6503ec6e8aabbaf = v; });\nvar $c322e9f2577a7e3b$export$6503ec6e8aabbaf;\nvar $c322e9f2577a7e3b$export$f7ad0328861e2f03;\n\"use strict\";\nvar $c322e9f2577a7e3b$var$mapping = new Map();\nfunction $c322e9f2577a7e3b$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$c322e9f2577a7e3b$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $c322e9f2577a7e3b$var$resolve(id) {\n    var resolved = $c322e9f2577a7e3b$var$mapping.get(id);\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$c322e9f2577a7e3b$export$6503ec6e8aabbaf = $c322e9f2577a7e3b$var$register;\n$c322e9f2577a7e3b$export$f7ad0328861e2f03 = $c322e9f2577a7e3b$var$resolve;\n\n});\n\nvar $5a311197b7029687$exports = {};\n\n(parcelRequire(\"gKHNl\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse('[\"dlQAm\",\"index.64e9de6d.js\",\"kgv3l\",\"Mount-Diablo-Bay-View.1e5928ef.webp\",\"hkHP6\",\"Mission-Dolores-Park.f6b361f6.webp\",\"1vL1P\",\"Alameda-South-Shore-Beach.a682d7f2.webp\"]'));\n\nconst $5832eb44668bdb9f$var$MY_FACE_CONTAINER = document.getElementById(\"myface-container\");\nconst $5832eb44668bdb9f$var$MY_FACE = document.getElementById(\"myface\");\nlet $5832eb44668bdb9f$var$intervalId = -1;\nlet $5832eb44668bdb9f$var$topRight = false;\nlet $5832eb44668bdb9f$var$bottomRight = true;\nlet $5832eb44668bdb9f$var$bottomLeft = false;\nlet $5832eb44668bdb9f$var$topLeft = false;\nfunction $5832eb44668bdb9f$var$updateBorderRadius() {\n    let className = \"\";\n    className += $5832eb44668bdb9f$var$topRight ? \"top-right \" : \"\";\n    className += $5832eb44668bdb9f$var$bottomRight ? \"bottom-right \" : \"\";\n    className += $5832eb44668bdb9f$var$bottomLeft ? \"bottom-left \" : \"\";\n    className += $5832eb44668bdb9f$var$topLeft ? \"top-left\" : \"\";\n    $5832eb44668bdb9f$var$MY_FACE.className = className;\n}\nfunction $5832eb44668bdb9f$var$startLoop() {\n    clearInterval($5832eb44668bdb9f$var$intervalId);\n    $5832eb44668bdb9f$var$intervalId = setInterval(()=>{\n        if ($5832eb44668bdb9f$var$topRight) {\n            $5832eb44668bdb9f$var$topRight = false;\n            $5832eb44668bdb9f$var$bottomRight = true;\n        } else if ($5832eb44668bdb9f$var$bottomRight) {\n            $5832eb44668bdb9f$var$bottomRight = false;\n            $5832eb44668bdb9f$var$bottomLeft = true;\n        } else if ($5832eb44668bdb9f$var$bottomLeft) {\n            $5832eb44668bdb9f$var$bottomLeft = false;\n            $5832eb44668bdb9f$var$topLeft = true;\n        } else {\n            // topLeft\n            $5832eb44668bdb9f$var$topLeft = false;\n            $5832eb44668bdb9f$var$topRight = true;\n        }\n        $5832eb44668bdb9f$var$updateBorderRadius();\n    }, 3219);\n}\nasync function $5832eb44668bdb9f$export$b18aab2d2b6b171() {\n    $5832eb44668bdb9f$var$MY_FACE_CONTAINER.addEventListener(\"mouseout\", ()=>$5832eb44668bdb9f$var$startLoop());\n    $5832eb44668bdb9f$var$MY_FACE_CONTAINER.addEventListener(\"mouseup\", ()=>$5832eb44668bdb9f$var$startLoop());\n    $5832eb44668bdb9f$var$MY_FACE_CONTAINER.addEventListener(\"mousemove\", (e)=>{\n        // Pause the border radius loop while mouse is in this element\n        clearInterval($5832eb44668bdb9f$var$intervalId);\n        /*\n    (x0,y0)------+\n       |         |\n       |  (x,y)  |\n       |         |\n       +------(x1,y1)\n    */ const rect = $5832eb44668bdb9f$var$MY_FACE_CONTAINER.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        const y = e.clientY - rect.top;\n        const x0 = 0;\n        const y0 = 0;\n        const x1 = rect.width;\n        const y1 = rect.height;\n        // console.log(\"x:\", x, \", y:\", y, \", x0:\", x0, \", y0\", y0, \", x1:\", x1, \", y1:\", y1);\n        /*\n    (x0,y0)---------xHalf------------+\n       |   top-left   |  top-right   |\n     yHalf----------(x,y)----------yHalf\n       | bottom-left  | bottom-right |\n       +------------xHalf---------(x1,y1)\n    */ const xHalf = x0 + (x0 + x1) / 2;\n        const yHalf = y0 + (y0 + y1) / 2;\n        $5832eb44668bdb9f$var$topRight = false;\n        $5832eb44668bdb9f$var$bottomRight = false;\n        $5832eb44668bdb9f$var$bottomLeft = false;\n        $5832eb44668bdb9f$var$topLeft = false;\n        if (x < xHalf) {\n            if (y < yHalf) $5832eb44668bdb9f$var$topLeft = true;\n            else $5832eb44668bdb9f$var$bottomLeft = true;\n        } else if (y < yHalf) $5832eb44668bdb9f$var$topRight = true;\n        else $5832eb44668bdb9f$var$bottomRight = true;\n        $5832eb44668bdb9f$var$updateBorderRadius();\n    });\n    $5832eb44668bdb9f$var$startLoop();\n}\n\n\nvar $2b1cd51fc7087004$exports = {};\n$2b1cd51fc7087004$exports = new URL(\"Mount-Diablo-Bay-View.1e5928ef.webp\", import.meta.url).toString();\n\n\nvar $f7b06d77415d540b$exports = {};\n$f7b06d77415d540b$exports = new URL(\"Mission-Dolores-Park.f6b361f6.webp\", import.meta.url).toString();\n\n\nvar $a7c16101dc716d21$exports = {};\n$a7c16101dc716d21$exports = new URL(\"Alameda-South-Shore-Beach.a682d7f2.webp\", import.meta.url).toString();\n\n\nconst $4c7c619664a416e1$var$BACKGROUND_IMAGES = [\n    {\n        src: (0, (/*@__PURE__*/$parcel$interopDefault($2b1cd51fc7087004$exports))),\n        loaded: false\n    },\n    {\n        src: (0, (/*@__PURE__*/$parcel$interopDefault($f7b06d77415d540b$exports))),\n        loaded: false\n    },\n    {\n        src: (0, (/*@__PURE__*/$parcel$interopDefault($a7c16101dc716d21$exports))),\n        loaded: false\n    }\n];\nconst $4c7c619664a416e1$var$BACKGROUND_ELEMENT = document.getElementById(\"background\");\nlet $4c7c619664a416e1$var$backgroundImage = $4c7c619664a416e1$var$BACKGROUND_IMAGES[0];\nlet $4c7c619664a416e1$var$numLoaded = 0;\nfunction $4c7c619664a416e1$var$setBackgroundImage(image) {\n    $4c7c619664a416e1$var$backgroundImage = image;\n    $4c7c619664a416e1$var$BACKGROUND_ELEMENT.style.backgroundImage = `url(${image.src})`;\n    $4c7c619664a416e1$var$BACKGROUND_ELEMENT.style.opacity = \"1\";\n}\nfunction $4c7c619664a416e1$var$changeImage() {\n    const images = $4c7c619664a416e1$var$BACKGROUND_IMAGES.filter((image)=>image.loaded);\n    if (images.length > 1) {\n        let index = images.indexOf($4c7c619664a416e1$var$backgroundImage);\n        index += 1;\n        if (index === images.length) index = 0;\n        $4c7c619664a416e1$var$setBackgroundImage(images[index]);\n    }\n}\nfunction $4c7c619664a416e1$var$startSlideshow(mediaQuery) {\n    if (mediaQuery.matches) $4c7c619664a416e1$var$BACKGROUND_IMAGES.forEach((image)=>{\n        if (!image.element) {\n            const element = new Image();\n            element.onload = ()=>{\n                image.loaded = true;\n                if ($4c7c619664a416e1$var$numLoaded === 0) {\n                    $4c7c619664a416e1$var$setBackgroundImage(image);\n                    setInterval($4c7c619664a416e1$var$changeImage, 15000);\n                }\n                $4c7c619664a416e1$var$numLoaded += 1;\n            };\n            element.src = image.src;\n            image.element = element;\n        }\n    });\n}\nasync function $4c7c619664a416e1$export$17916ffb303dab95() {\n    const mediaQuery = window.matchMedia(\"(min-width: 1000px)\");\n    $4c7c619664a416e1$var$startSlideshow(mediaQuery);\n    mediaQuery.addEventListener(\"change\", $4c7c619664a416e1$var$startSlideshow);\n}\n\n\nconst $e6a02e8e5b462043$var$LIKES_COUNTER_URL = \"https://api.seankrail.dev/count/likes\";\nconst $e6a02e8e5b462043$var$MAX_LIKES_PER_SESSION = 3;\nconst $e6a02e8e5b462043$var$LIKES_CONTAINER = document.getElementById(\"likes-container\");\nconst $e6a02e8e5b462043$var$LIKES_THUMB = document.getElementById(\"likes-thumb\");\nconst $e6a02e8e5b462043$var$LIKES_COUNT = document.getElementById(\"likes-count\");\nlet $e6a02e8e5b462043$var$isLikeEnabled = false;\nlet $e6a02e8e5b462043$var$totalLikes = 0;\nlet $e6a02e8e5b462043$var$likesThisSession = 0;\nfunction $e6a02e8e5b462043$var$setLikesCount(likes) {\n    $e6a02e8e5b462043$var$LIKES_CONTAINER.style.visibility = \"visible\";\n    $e6a02e8e5b462043$var$LIKES_COUNT.innerHTML = `${likes}`;\n    $e6a02e8e5b462043$var$LIKES_CONTAINER.style.opacity = \"1\";\n    $e6a02e8e5b462043$var$isLikeEnabled = true;\n}\nasync function $e6a02e8e5b462043$var$getLikes() {\n    const response = await window.fetch($e6a02e8e5b462043$var$LIKES_COUNTER_URL, {\n        method: \"GET\"\n    });\n    $e6a02e8e5b462043$var$totalLikes = Number(await response.text());\n    return $e6a02e8e5b462043$var$totalLikes;\n}\nasync function $e6a02e8e5b462043$var$like() {\n    if ($e6a02e8e5b462043$var$isLikeEnabled) {\n        if ($e6a02e8e5b462043$var$likesThisSession < $e6a02e8e5b462043$var$MAX_LIKES_PER_SESSION) {\n            window.fetch($e6a02e8e5b462043$var$LIKES_COUNTER_URL, {\n                method: \"POST\"\n            });\n            $e6a02e8e5b462043$var$LIKES_THUMB.style.fontVariationSettings = \"'FILL' 1\";\n        }\n        $e6a02e8e5b462043$var$likesThisSession += 1;\n        $e6a02e8e5b462043$var$totalLikes += 1;\n        $e6a02e8e5b462043$var$setLikesCount($e6a02e8e5b462043$var$totalLikes);\n    }\n}\nasync function $e6a02e8e5b462043$export$71f7d6ce0daffb8a() {\n    $e6a02e8e5b462043$var$setLikesCount(await $e6a02e8e5b462043$var$getLikes());\n    $e6a02e8e5b462043$var$LIKES_CONTAINER.addEventListener(\"click\", ()=>$e6a02e8e5b462043$var$like());\n}\n\n\n\n\n(async ()=>{\n    (0, $4c7c619664a416e1$export$17916ffb303dab95)();\n})();\n(async ()=>{\n    (0, $5832eb44668bdb9f$export$b18aab2d2b6b171)();\n})();\n(async ()=>{\n    (0, $e6a02e8e5b462043$export$71f7d6ce0daffb8a)();\n})();\n\n\n//# sourceMappingURL=index.64e9de6d.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"dlQAm\\\",\\\"index.64e9de6d.js\\\",\\\"kgv3l\\\",\\\"Mount-Diablo-Bay-View.1e5928ef.webp\\\",\\\"hkHP6\\\",\\\"Mission-Dolores-Park.f6b361f6.webp\\\",\\\"1vL1P\\\",\\\"Alameda-South-Shore-Beach.a682d7f2.webp\\\"]\"));","import {\n  animateBorder,\n  loadLikesCounter,\n  slideshowBackground,\n} from \"./features\";\n\n(async () => {\n  slideshowBackground();\n})();\n\n(async () => {\n  animateBorder();\n})();\n\n(async () => {\n  loadLikesCounter();\n})();\n","export * from \"./animate-border\";\nexport * from \"./slideshow-background\";\nexport * from \"./likes-counter\";\n","const MY_FACE_CONTAINER = document.getElementById(\"myface-container\");\nconst MY_FACE = document.getElementById(\"myface\");\n\nlet intervalId = -1;\nlet topRight = false;\nlet bottomRight = true;\nlet bottomLeft = false;\nlet topLeft = false;\n\nfunction updateBorderRadius() {\n  let className = \"\";\n  className += topRight ? \"top-right \" : \"\";\n  className += bottomRight ? \"bottom-right \" : \"\";\n  className += bottomLeft ? \"bottom-left \" : \"\";\n  className += topLeft ? \"top-left\" : \"\";\n  MY_FACE.className = className;\n}\n\nfunction startLoop() {\n  clearInterval(intervalId);\n  intervalId = setInterval(() => {\n    if (topRight) {\n      topRight = false;\n      bottomRight = true;\n    } else if (bottomRight) {\n      bottomRight = false;\n      bottomLeft = true;\n    } else if (bottomLeft) {\n      bottomLeft = false;\n      topLeft = true;\n    } else {\n      // topLeft\n      topLeft = false;\n      topRight = true;\n    }\n    updateBorderRadius();\n  }, 3219);\n}\n\nexport async function animateBorder() {\n  MY_FACE_CONTAINER.addEventListener(\"mouseout\", () => startLoop());\n  MY_FACE_CONTAINER.addEventListener(\"mouseup\", () => startLoop());\n\n  MY_FACE_CONTAINER.addEventListener(\"mousemove\", (e) => {\n    // Pause the border radius loop while mouse is in this element\n    clearInterval(intervalId);\n\n    /*\n    (x0,y0)------+\n       |         |\n       |  (x,y)  |\n       |         |\n       +------(x1,y1)\n    */\n    const rect = MY_FACE_CONTAINER.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n    const x0 = 0;\n    const y0 = 0;\n    const x1 = rect.width;\n    const y1 = rect.height;\n    // console.log(\"x:\", x, \", y:\", y, \", x0:\", x0, \", y0\", y0, \", x1:\", x1, \", y1:\", y1);\n\n    /*\n    (x0,y0)---------xHalf------------+\n       |   top-left   |  top-right   |\n     yHalf----------(x,y)----------yHalf\n       | bottom-left  | bottom-right |\n       +------------xHalf---------(x1,y1)\n    */\n    const xHalf = x0 + (x0 + x1) / 2;\n    const yHalf = y0 + (y0 + y1) / 2;\n    topRight = false;\n    bottomRight = false;\n    bottomLeft = false;\n    topLeft = false;\n    if (x < xHalf) {\n      if (y < yHalf) {\n        topLeft = true;\n      } else {\n        bottomLeft = true;\n      }\n    } else if (y < yHalf) {\n      topRight = true;\n    } else {\n      bottomRight = true;\n    }\n    updateBorderRadius();\n  });\n\n  startLoop();\n}\n","import mountDiablo from \"url:../images/Mount-Diablo-Bay-View.jpg?as=webp\";\nimport doloresPark from \"url:../images/Mission-Dolores-Park.jpg?as=webp\";\nimport alamedaSouthShore from \"url:../images/Alameda-South-Shore-Beach.jpg?as=webp\";\n\ntype Image = {\n  src: string;\n  loaded: boolean;\n  element?: HTMLImageElement;\n};\n\nconst BACKGROUND_IMAGES: Image[] = [\n  { src: mountDiablo, loaded: false },\n  { src: doloresPark, loaded: false },\n  { src: alamedaSouthShore, loaded: false },\n];\nconst BACKGROUND_ELEMENT = document.getElementById(\"background\");\n\nlet backgroundImage = BACKGROUND_IMAGES[0];\nlet numLoaded = 0;\n\nfunction setBackgroundImage(image: Image) {\n  backgroundImage = image;\n  BACKGROUND_ELEMENT.style.backgroundImage = `url(${image.src})`;\n  BACKGROUND_ELEMENT.style.opacity = \"1\";\n}\n\nfunction changeImage() {\n  const images = BACKGROUND_IMAGES.filter((image) => image.loaded);\n  if (images.length > 1) {\n    let index = images.indexOf(backgroundImage);\n    index += 1;\n    if (index === images.length) {\n      index = 0;\n    }\n    setBackgroundImage(images[index]);\n  }\n}\n\nfunction startSlideshow(mediaQuery: MediaQueryList | MediaQueryListEvent) {\n  if (mediaQuery.matches) {\n    BACKGROUND_IMAGES.forEach((image) => {\n      if (!image.element) {\n        const element = new Image();\n        element.onload = () => {\n          image.loaded = true;\n          if (numLoaded === 0) {\n            setBackgroundImage(image);\n            setInterval(changeImage, 15000);\n          }\n          numLoaded += 1;\n        };\n        element.src = image.src;\n        image.element = element;\n      }\n    });\n  }\n}\n\nexport async function slideshowBackground() {\n  const mediaQuery = window.matchMedia(\"(min-width: 1000px)\");\n  startSlideshow(mediaQuery);\n  mediaQuery.addEventListener(\"change\", startSlideshow);\n}\n","module.exports = new __parcel__URL__(\"Mount-Diablo-Bay-View.1e5928ef.webp\").toString();","module.exports = new __parcel__URL__(\"Mission-Dolores-Park.f6b361f6.webp\").toString();","module.exports = new __parcel__URL__(\"Alameda-South-Shore-Beach.a682d7f2.webp\").toString();","const LIKES_COUNTER_URL = \"https://api.seankrail.dev/count/likes\";\nconst MAX_LIKES_PER_SESSION = 3;\nconst LIKES_CONTAINER = document.getElementById(\"likes-container\");\nconst LIKES_THUMB = document.getElementById(\"likes-thumb\");\nconst LIKES_COUNT = document.getElementById(\"likes-count\");\n\nlet isLikeEnabled = false;\nlet totalLikes = 0;\nlet likesThisSession = 0;\n\nfunction setLikesCount(likes: number) {\n  LIKES_CONTAINER.style.visibility = \"visible\";\n  LIKES_COUNT.innerHTML = `${likes}`;\n  LIKES_CONTAINER.style.opacity = \"1\";\n  isLikeEnabled = true;\n}\n\nasync function getLikes(): Promise<number> {\n  const response = await window.fetch(LIKES_COUNTER_URL, { method: \"GET\" });\n  totalLikes = Number(await response.text());\n  return totalLikes;\n}\n\nasync function like() {\n  if (isLikeEnabled) {\n    if (likesThisSession < MAX_LIKES_PER_SESSION) {\n      window.fetch(LIKES_COUNTER_URL, { method: \"POST\" });\n      LIKES_THUMB.style.fontVariationSettings = \"'FILL' 1\";\n    }\n    likesThisSession += 1;\n    totalLikes += 1;\n    setLikesCount(totalLikes);\n  }\n}\n\nexport async function loadLikesCounter() {\n  setLikesCount(await getLikes());\n\n  LIKES_CONTAINER.addEventListener(\"click\", () => like());\n}\n"],"names":["$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$c322e9f2577a7e3b$export$6503ec6e8aabbaf","set","v","enumerable","configurable","$c322e9f2577a7e3b$var$mapping","Map","baseUrl","manifest","i","length","path","URL","url","toString","JSON","parse","$5832eb44668bdb9f$var$MY_FACE_CONTAINER","document","getElementById","$5832eb44668bdb9f$var$MY_FACE","$5832eb44668bdb9f$var$intervalId","$5832eb44668bdb9f$var$topRight","$5832eb44668bdb9f$var$bottomRight","$5832eb44668bdb9f$var$bottomLeft","$5832eb44668bdb9f$var$topLeft","$5832eb44668bdb9f$var$updateBorderRadius","className","$5832eb44668bdb9f$var$startLoop","clearInterval","setInterval","$5832eb44668bdb9f$export$b18aab2d2b6b171","addEventListener","e","rect","getBoundingClientRect","x","clientX","left","y","clientY","top","x1","width","yHalf","y0","height","x0","$2b1cd51fc7087004$exports","$f7b06d77415d540b$exports","$a7c16101dc716d21$exports","$4c7c619664a416e1$var$BACKGROUND_IMAGES","src","loaded","$4c7c619664a416e1$var$BACKGROUND_ELEMENT","$4c7c619664a416e1$var$backgroundImage","$4c7c619664a416e1$var$numLoaded","$4c7c619664a416e1$var$setBackgroundImage","image","style","backgroundImage","opacity","$4c7c619664a416e1$var$changeImage","images","filter","index","indexOf","$4c7c619664a416e1$var$startSlideshow","mediaQuery","matches","forEach","element","Image","onload","$4c7c619664a416e1$export$17916ffb303dab95","matchMedia","$e6a02e8e5b462043$var$LIKES_COUNTER_URL","$e6a02e8e5b462043$var$LIKES_CONTAINER","$e6a02e8e5b462043$var$LIKES_THUMB","$e6a02e8e5b462043$var$LIKES_COUNT","$e6a02e8e5b462043$var$isLikeEnabled","$e6a02e8e5b462043$var$totalLikes","$e6a02e8e5b462043$var$likesThisSession","$e6a02e8e5b462043$var$setLikesCount","likes","visibility","innerHTML","$e6a02e8e5b462043$var$getLikes","response","fetch","method","Number","text","$e6a02e8e5b462043$var$like","fontVariationSettings","$e6a02e8e5b462043$export$71f7d6ce0daffb8a"],"version":3,"file":"index.64e9de6d.js.map"}